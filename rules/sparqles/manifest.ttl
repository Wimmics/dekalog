@prefix mf: <http://www.w3.org/2001/sw/DataAccess/tests/test-manifest#> .
@prefix kgi: <http://ns.inria.fr/kg/index#> .

<> a mf:Manifest ;
    mf:entries (
            <SPARQLESFilRegex.ttl>
            <SPARQLESSelFilBool.ttl>
        ) .

<SPARQLESFilRegex.ttl> a mf:ManifestEntry ;
    kgi:onSuccess (
        [
            mf:action """
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX lsq: <http://lsq.aksw.org/vocab#>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            CONSTRUCT {
                $endpointDescription sd:endpoint $endpoint ;
                    sd:feature lsq:Regex .
            } WHERE {
            }
            """
        ]
        [
            mf:action """
                PREFIX dcterms: <http://purl.org/dc/terms/>
                DELETE {
                    $metadataDescription dcterms:modified ?mod .
                }
                INSERT {
                    $metadataDescription dcterms:modified $dateLiteral .
                }
                WHERE {
                    $metadataDescription dcterms:modified ?mod .
                }
            """
        ]
    ) .

<SPARQLESSelFilBool.ttl> a mf:ManifestEntry ;
    kgi:onSuccess (
        [
            mf:action """
            PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>
            PREFIX kgi: <http://ns.inria.fr/kg/index#>
            PREFIX dcterms: <http://purl.org/dc/terms/>
            PREFIX lsq: <http://lsq.aksw.org/vocab#>
            CONSTRUCT {
                $endpointDescription sd:endpoint $endpoint ;
                    sd:feature kgi:BooleanInPattern .
            } WHERE {
            }
            """
        ]
        [
            mf:action """
                PREFIX dcterms: <http://purl.org/dc/terms/>
                DELETE {
                    $metadataDescription dcterms:modified ?mod .
                }
                INSERT {
                    $metadataDescription dcterms:modified $dateLiteral .
                }
                WHERE {
                    $metadataDescription dcterms:modified ?mod .
                }
            """
        ]
    ) .
